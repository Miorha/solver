<!DOCTYPE html>
<html>
<body>
<input type="text" id="num">
<br>
 <button onclick="modifyLen()">确认方程项数</button>
<script>
var inputValue=0;
var getval=[];
var inputs=[];
function modifyLen() {
    inputValue = parseInt(document.getElementById('num').value);
    console.log(inputValue)
document.body.innerHTML = '<button onclick=\"startSolve()\">解方程!!!!</button><br><label id=\"answer\"></label>';
  const container = document.createElement('div'); // 创建一个div容器
  container.style = 'margin: 10px;'; // 设置容器样式
  for (let i = 1; i <= inputValue; i++) {
    const label = document.createElement('label'); // 创建一个label
    label.innerText = `输入第${i}个方程: `; // 设置label文本
 	container.appendChild(label); // 将label添加到容器
inputs.push([])
   for(let j=1;j<=inputValue+1;j++){
    const input = document.createElement('input'); // 创建一个input元素
    input.type = 'text'; // 设置input类型为text
    input.name = `box${i}`; // 设置input的name属性
    input.id = `box${i}${j}`; // 设置input的id属性
    input.style = 'margin: 5px;'; // 设置input的样式
inputs[i-1].push(input)
input.size =3 // 设置input的样式
    function getInputValues(k) {
    return inputs[k].map(input => input.value); // 返回包含所有输入值的数组
  }getval.push(getInputValues);
    container.appendChild(input); // 将input添加到容器
}
 var br = document.createElement('br');
    container.appendChild(br);
  }
 const label2 = document.createElement('label'); // 创建一个label
    label2.innerText = `\n\n\n说明：输入的每一项代表方程中的一个系数，如方程项数为2，输入\n1   3   3\n2  -4 -100\n表示方程为\nx+3y+3=0\n2x-4y-100=0 `; // 设置label文本
 	container.appendChild(label2); // 将label添加到容器
  document.body.appendChild(container); // 将容器添加到body中
}
var arr=[[]];
var ans=[1];
function startSolve(){
arr=[[]]
ans=[1]
for(let i=1;i<=inputValue;i++){
arr.push(getval[i](i-1));
ans.push(0);
arr[i].unshift(arr[i][inputValue]);
console.log(arr[i]);
}
solve(inputValue);
ans.shift()
var str='方程的解是:('+ans+')';
document.getElementById("answer").textContent=str;
}

function solve(n){
	if(n==1){
		ans[n]=-arr[n][0]*1.0/arr[n][1];
	}else{
		for(let i=0;i<n;++i){
			arr[n-1][i]-=arr[n-1][n]*arr[n][i]*1.0/arr[n][n];
		}solve(n-1);
		ans[n]=0;
		for(let i=0;i<n;++i){
			ans[n]-=ans[i]*(arr[n][i]*1.0/arr[n][n]);
		}
	}
}
</script>
</body>
</html>